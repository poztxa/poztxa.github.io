---
layout: default
paginate: 5
paginate_path: "/categories/:category/page:num"
---
<div class="flex-center" id="content-wrapper" style="transform: none;">
  <div class="container row-x1" style="transform: none;">

    <!-- Post -->        
    <main id="main-wrapper">
      <div class="main section" id="main" name="Main Posts">
        <div class="widget Blog" data-version="2" id="Blog1">

          <!-- Display Category Name -->
          <div class="queryMessage">
            <span class="query-info query-label query-success">
              {{ page.category | default: page.title }}
            </span>
          </div>

          <!-- Blog Posts -->
          <div class="blog-posts hfeed index-post-wrap">
            {% assign current_category = page.category | default: page.title %}
            {% assign posts_per_page = 5 %}
            {% assign total_posts = site.categories[current_category] | size %}
            {% assign total_pages = total_posts | divided_by: posts_per_page | ceil %}
            {% assign current_page = page.page | default: 1 %}
            {% assign start_index = (current_page - 1) * posts_per_page %}
            {% assign paginated_posts = site.categories[current_category] | slice: start_index, posts_per_page %}

            {% if total_posts > 0 %}
              {% for post in paginated_posts %}
                {% include postbox.html %}
              {% endfor %}
            {% else %}
              <p>No posts found in this category.</p>
            {% endif %}
          </div> <!-- End of .blog-posts -->

          <!-- Load More Pagination -->
<div class="pagination">
  {% if paginator.total_pages > 1 %}
    <ul class="pagination-links">
      {% if paginator.previous_page %}
        <li><a href="{{ paginator.previous_page_path }}">Previous</a></li>
      {% endif %}
      
      {% for page in (1..paginator.total_pages) %}
        <li class="{{ 'active' if page == paginator.page }} ">
          <a href="{{ paginator.path(page) }}">{{ page }}</a>
        </li>
      {% endfor %}
      
      {% if paginator.next_page %}
        <li><a href="{{ paginator.next_page_path }}">Next</a></li>
      {% endif %}
    </ul>
  {% endif %}
</div>

        </div>
      </div>
    </main>
    <!-- End Post -->

    <!-- Sidebar -->
    <aside id="sidebar-wrapper">
      <div class="sidebar supermag-pro-widget-ready section" id="sidebar" name="Sidebar">
        {% include sidebar.html %}
      </div>
    </aside>
    <!-- End Sidebar -->

  </div>
</div>
